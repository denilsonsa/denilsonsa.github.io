---
# REMEMBER: No tab characters in the YAML preamble!
# Easy way to fix tabs in the preamble in Vim:
# :1,2/^---$/s/\t/    /g

# TODO:
# * Upload the demonstration to openclipart.

#mode: "demonstration"
mode: "cheatsheet"

demonstration_ids:
# :Tabularize /,/l0

  - [ button_power,button_A        ,button_B          ,button_minus    ,button_home     ,button_plus     ,button_1         ,button_2         ,button_C          ,button_Z ]
  - [ wii_leds_12 ,button_classic_a,button_classic_b  ,button_classic_x,button_classic_y,button_classic_L,button_classic_ZL,button_classic_ZR,button_classic_R ]
  - [ wii_leds_13 ,dpad_up         ,dpad_right        ,dpad_down       ,dpad_left       ,mouse_left      ,mouse_right      ,mouse_up         ,mouse_down ]
  - [ wii_leds_14 ,key_up          ,key_down          ,key_left        ,key_right       ,key_enter       ,key_esc          ,key_pageup       ,key_pagedown      ,key_win ]
  - [ wii_leds_any,key_volume_up   ,key_volume_down   ,key_stop        ,key_play_pause  ,key_previous    ,key_next         ,key_rewind       ,key_forward ]
  - [ dpad        ,analog_stick    ,twin_analog_sticks,button_shiny    ,button_matte    ,button_inset    ,mouse            ,key              ,keys_arrows ]

# Data is denoted as a two-value array, where the first element is the type:
# t = text single-line
# T = text multi-line
# # = SVG <use> id

dolphinbar_url: "http://www.mayflash.com/Products/NINTENDOWiiGC/W010.html"
firmware_url:   "http://www.mayflash.com/Support/Download/"
manual_url:     "https://imgur.com/a/LBagg"
dolphinemu_url: "https://dolphin-emu.org/"

cheatsheet:
  row_padding: 1
  columns: [12, 45, 65, 65, 65, 65, 65]
  sections:
    -
      label: ""
      row_height: 20
      data:
        -
          height: 10
          cells:
            - [" ", ""]
            - [" ", ""]
            - ["t", "Mode 1A"]
            - ["t", "Mode 1B"]
            - ["t", "Mode 2"]
            - ["t", "Mode 3"]
            - ["t", "Mode 4"]
        -
          height: 18
          cells:
            - [" ", ""]
            - [" ", ""]
            - ["T", "Keyboard and Mouse\nNormal"]
            - ["T", "Keyboard and Mouse\nMultimedia"]
            - ["T", "Keyboard and Mouse\nGame"]
            - ["t", "Game Controller"]
            - ["T", "Wii Remote Emulation\nfor Dolphin emulator"]
        -
          cells:
            - [" ", ""]
            - [" ", ""]
            - ["#", "wii_leds_12_square"]
            - ["#", "wii_leds_13_square"]
            - ["#", "wii_leds_14_square"]
            - ["#", "wii_leds_any"]
            - ["#", "wii_leds_any"]
        -
          cells:
            - [" ", ""]
            - [" ", ""]
            - ["#", "home_and_down"]
            - ["#", "home_and_down"]
            - ["#", "home_and_left"]
            - ["#", "home_and_up"]
            - ["#", "home_and_right"]
    -
      label: "Wii Remote"
      row_height: 20
      data:
        -
          cells:
            - [" ", ""]
            - ["t", "IR Camera"]
            - ["#", "mouse"]
            - ["#", "mouse"]
            - ["#", "mouse"]
            - [" ", ""]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["t", "Accelerometer"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - [" ", ""]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "dpad_up"]
            - ["#", "key_up"]
            - ["#", "key_stop"]
            - ["#", "key_up"]
            - ["t", "Left stick or POV"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "dpad_down"]
            - ["#", "key_down"]
            - ["#", "key_play_pause"]
            - ["#", "key_down"]
            - ["t", "Left stick or POV"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "dpad_left"]
            - ["#", "key_left"]
            - ["#", "key_previous"]
            - ["#", "key_left"]
            - ["t", "Left stick or POV"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "dpad_right"]
            - ["#", "key_right"]
            - ["#", "key_next"]
            - ["#", "key_right"]
            - ["t", "Left stick or POV"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_1"]
            - ["#", "key_pageup"]
            - ["#", "key_forward"]
            - ["t", "?"]
            - ["t", "Button 1"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_2"]
            - ["#", "key_pagedown"]
            - ["#", "key_rewind"]
            - ["t", "?"]
            - ["t", "Button 2"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_A"]
            - ["#", "mouse_left"]
            - ["#", "mouse_left"]
            - ["#", "mouse_left"]
            - ["t", "Button 3"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_B"]
            - ["#", "mouse_right"]
            - ["#", "mouse_right"]
            - ["#", "mouse_right"]
            - ["t", "Button 4"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_minus"]
            - ["#", "mouse_up"]
            - ["#", "key_volume_down"]
            - ["#", "key_esc"]
            - ["t", "Button 5"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_plus"]
            - ["#", "mouse_down"]
            - ["#", "key_volume_up"]
            - ["#", "key_enter"]
            - ["t", "Button 6"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_home"]
            - ["#", "key_win"]
            - ["#", "key_win"]
            - ["#", "key_win"]
            - ["t", "Button 12"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_power"]
            - ["T", "Shut off the\nconnection"]
            - ["T", "Shut off the\nconnection"]
            - ["T", "Shut off the\nconnection"]
            - ["t", "?"]
            - ["#", "dolphin"]
    -
      label: "Nunchuk"
      row_height: 20
      data:
        -
          cells:
            - [" ", ""]
            - ["t", "Accelerometer"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "?"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "analog_stick"]
            - ["t", "-"]
            - ["t", "-"]
            - ["#", "keys_arrows"]
            - ["t", "Analog X/Y"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_Z"]
            - ["t", "-"]
            - ["t", "-"]
            - ["#", "mouse_left"]
            - ["t", "Button 7"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_C"]
            - ["t", "-"]
            - ["t", "-"]
            - ["#", "mouse_right"]
            - ["t", "Button 8"]
            - ["#", "dolphin"]
    -
      label: "Classic Controller"
      row_height: 20
      data:
        -
          cells:
            - [" ", ""]
            - ["#", "button_classic_y"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Button 1"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_classic_x"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Button 2"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_classic_b"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Button 3"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_classic_a"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Button 4"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_classic_L"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Button 5"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_classic_R"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Button 6"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_classic_ZL"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Button 7"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_classic_ZR"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Button 8"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_minus"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Button 9"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_plus"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Button 10"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "button_home"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Button 12"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "dpad"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "POV"]
            - ["#", "dolphin"]
        -
          cells:
            - [" ", ""]
            - ["#", "twin_analog_sticks"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "-"]
            - ["t", "Analog sticks"]
            - ["#", "dolphin"]

---
<?xml version="1.0" encoding="UTF-8"?>
<svg

{% if page.mode == "demonstration" %}
	viewBox="0 0 50 30"
{% elsif page.mode == "cheatsheet" %}
	{% assign cheatsheet = page.cheatsheet %}

	{% assign cheatsheet_width = 0 %}
	{% for column in cheatsheet.columns %}
		{% assign cheatsheet_width = cheatsheet_width | plus: column %}
	{% endfor %}

	{% assign cheatsheet_height = 0 %}
	{% for section in cheatsheet.sections %}

		{% assign section_height = 0 %}
		{% for row in section.data %}
			{% assign height = section.row_height %}
			{% if row.height %}
				{% assign height = row.height %}
			{% endif %}
			{% assign section_height = section_height | plus: height %}
		{% endfor %}

		{% assign cheatsheet_height = cheatsheet_height | plus: section_height %}
	{% endfor %}

	{% assign extra_at_right = cheatsheet.row_padding | times: 2 | plus: 6 | plus: 2 %}
	{% assign page_width = cheatsheet_width | plus: extra_at_right %}
	{% assign page_height = cheatsheet_height %}

	viewBox="0 0 {{ page_width }} {{ page_height }}"
	{% assign page_absolute_width = 1024.0 %}
	{% assign page_absolute_height = page_absolute_width | times: page_height | divided_by: page_width %}
	width="{{ page_absolute_width }}px"
	height="{{ page_absolute_height }}px"
{% endif %}

	version="1.1"
	xmlns="http://www.w3.org/2000/svg"
	xmlns:xlink="http://www.w3.org/1999/xlink"
>

<style type="text/css"><![CDATA[
{% if page.mode == "cheatsheet" %}

.cheatsheet rect.section:nth-child(odd) {
	fill: #bef9eb;
}
.cheatsheet rect.section:nth-child(even) {
	fill: #c0ebf9;
}

.cheatsheet rect.column {
	fill: #ffffff;
}
.cheatsheet rect.column:nth-child(odd) {
	opacity: 0.25;
}
.cheatsheet rect.column:first-child,
.cheatsheet rect.column:nth-child(even) {
	opacity: 0;
}

.cheatsheet rect.row {
	fill: #ffffff;
}
.cheatsheet rect.row:nth-child(odd) {
	opacity: 0;
}
.cheatsheet rect.row:nth-child(even) {
	opacity: 0.25;
}

.cheatsheet .section_labels text.section_label {
	font-family: "Arial", sans-serif;
	font-size: 8px;
	text-anchor: middle;
	dominant-baseline: central;
	fill: black;
}

.cheatsheet .section_data_cell > text {
	font-family: "Arial", sans-serif;
	font-size: 6px;
	text-anchor: middle;
	dominant-baseline: central;
	fill: black;
}
.cheatsheet .section_data:first-child .section_data_row:first-child text {
	font-weight: bold;
}

.cheatsheet text.title {
	font-family: "Arial", sans-serif;
	font-size: 8px;
	text-anchor: middle;
	dominant-baseline: central;
	fill: black;
}

.cheatsheet text.aside {
	font-family: "Arial", sans-serif;
	font-size: 6px;
	text-anchor: start;
	dominant-baseline: central;
	fill: black;
}

{% endif %}
]]></style>

<defs>

<!-- ** Wii Remote and Classic Controller D-Pad. ** -->

<radialGradient id="dpad_gradient" cx="0.5" cy="0.5" r="0.5" fx="0.5" fy="0.5">
	<stop offset="0" stop-color="#fff"/>
	<stop offset="1" stop-color="#ccc"/>
</radialGradient>

<path id="dpad_shape" d="M1,12 h10 q1,0 1,-1 v-10 q0,-1 1,-1 h10 q1,0 1,1 v10 q0,1 1,1 h10 q1,0 1,1 v10 q0,1 -1,1 h-10 q-1,0 -1,1 v10 q0,1 -1,1 h-10 q-1,0 -1,-1 v-10 q0,-1 -1,-1 h-10 q-1,0 -1,-1 v-10 q0,-1 1,-1 z"/>

<clipPath id="dpad_clip" clipPathUnits="userSpaceOnUse">
	<use xlink:href="#dpad_shape" x="0" y="0" />
</clipPath>

<symbol id="dpad" viewBox="-1.5 -1.5 39 39">
	<!-- DEBUG: rect x="-5" y="-5" width="50" height="50" fill="silver"/ -->
	<!-- Shadow. -->
	<use xlink:href="#dpad_shape" x="1" y="1" opacity="0.887" stroke-width="1" stroke="#000000" fill="#000000" />
	<!-- Base. -->
	<use xlink:href="#dpad_shape" x="0" y="0" stroke="none" fill="url(#dpad_gradient)" />
	<!-- Trick for creating highlights and shadows. -->
	<g clip-path="url(#dpad_clip)">
		<use xlink:href="#dpad_shape" x="-0.5" y="-0.5" stroke-width="2" stroke="#000000" stroke-opacity="0.5" fill="none" />
	</g>
	<g clip-path="url(#dpad_clip)">
		<use xlink:href="#dpad_shape" x="0.5" y="0.5" stroke-width="2" stroke="#ffffff" stroke-opacity="0.5" fill="none" />
	</g>
	<!-- The dark outline. -->
	<use xlink:href="#dpad_shape" x="0" y="0" stroke-width="1" stroke="#000000" fill="none" />
	<!-- Directional ticks. -->
	<path d="M4,18 h7 M32,18 h-7 M18,4 v7 M18,32 v-7" stroke-width="1" stroke="#909090" fill="none"/>
</symbol>

<linearGradient id="dpad_press_gradient" x1="0" y1="0" x2="0" y2="1">
	<stop offset="0.5" stop-color="#0094ff" stop-opacity="0.75"/>
	<stop offset="1.0" stop-color="#0094ff" stop-opacity="0"/>
</linearGradient>

<g id="dpad_press">
	<rect x="-4.5" y="-16.5" width="9" height="12" fill="url(#dpad_press_gradient)"/>
</g>

<symbol id="dpad_up" viewBox="0 0 39 39">
	<use xlink:href="#dpad" x="0" y="0" width="39" height="39" />
	<use xlink:href="#dpad_press" x="0" y="0" transform="translate(19.5 19.5) rotate(0)"/>
</symbol>
<symbol id="dpad_right" viewBox="0 0 39 39">
	<use xlink:href="#dpad" x="0" y="0" width="39" height="39" />
	<use xlink:href="#dpad_press" x="0" y="0" transform="translate(19.5 19.5) rotate(90)"/>
</symbol>
<symbol id="dpad_down" viewBox="0 0 39 39">
	<use xlink:href="#dpad" x="0" y="0" width="39" height="39" />
	<use xlink:href="#dpad_press" x="0" y="0" transform="translate(19.5 19.5) rotate(180)"/>
</symbol>
<symbol id="dpad_left" viewBox="0 0 39 39">
	<use xlink:href="#dpad" x="0" y="0" width="39" height="39" />
	<use xlink:href="#dpad_press" x="0" y="0" transform="translate(19.5 19.5) rotate(270)"/>
</symbol>

<!-- On all buttons and keys in this file, the label is being placed on top of the lighting, which is not accurate, but is good enough and is very easy to implement. -->

<!-- ** Wii Remote/Nunchuk/Classic Controller buttons (round shapes). ** -->
<!-- Inspired by http://ftpmerou.free.fr/ubuntu/wiimote/wiimote.svg -->

<radialGradient id="button_diffuse_gradient" cx="0.4" cy="0.4" r="0.5" fx="0.66" fy="0.66">
	<stop offset="0" stop-color="#ffffff" stop-opacity="1"/>
	<stop offset="1" stop-color="#ffffff" stop-opacity="0.39634147"/>
</radialGradient>
<linearGradient id="button_shiny_specular_gradient" x1="0.333" y1="0.4" x2="0.666" y2="0.5">
	<stop offset="0" stop-color="#ffffff" stop-opacity="1"/>
	<stop offset="1" stop-color="#ffffff" stop-opacity="0"/>
</linearGradient>

<symbol id="button_shiny" viewBox="-2 -2 34 34">
	<!-- DEBUG: rect x="-5" y="-5" width="50" height="50" fill="yellow"/ -->

	<!-- Shadow. -->
	<circle cx="15.75" cy="15.75" r="15" opacity="0.333" fill="#000000" stroke-width="1" stroke="#000000"  />
	<circle cx="15" cy="15" r="15" fill="#d0d4d6" stroke-width="0.4" stroke="#cbcacf" />

	<!-- Base. -->
	<circle cx="15" cy="15" r="15" fill="#d0d4d6" stroke-width="0.4" stroke="#cbcacf" />

	<!-- Diffuse lighting. -->
	<circle cx="16" cy="16.5" r="14" fill="url(#button_diffuse_gradient)" stroke="none"  />

	<!-- Specular lighting. -->
	<path d="M 2,20 a 14.25,14.25 0,0,1 22,-16 z" fill="url(#button_shiny_specular_gradient)" stroke="none"  />
</symbol>

<linearGradient id="button_matte_specular_gradient" x1="0.333" y1="0.333" x2="0.56" y2="0.56">
	<stop offset="0" stop-color="#ffffff" stop-opacity="1"/>
	<stop offset="1" stop-color="#ffffff" stop-opacity="0"/>
</linearGradient>

<symbol id="button_matte" viewBox="-2 -2 34 34">
	<!-- DEBUG: rect x="-5" y="-5" width="50" height="50" fill="yellow"/ -->

	<!-- Shadow. -->
	<circle cx="15.75" cy="15.75" r="15" opacity="0.887" fill="#000000" stroke-width="1" stroke="#000000"  />

	<!-- Base. -->
	<circle cx="15" cy="15" r="15" fill="#d0d4d6" stroke-width="1" stroke="#8a8993" />

	<!-- Specular lighting. -->
	<path d="M 2,20 a 14.25,14.25 0,0,1 22,-16 z" fill="url(#button_matte_specular_gradient)" stroke="none"  />
</symbol>

<symbol id="button_matte_oval" viewBox="-2 -2 34 34">
	<!-- DEBUG: rect x="-5" y="-5" width="50" height="50" fill="yellow"/ -->

	<!-- Shadow. -->
	<ellipse cx="15.75" cy="15.75" rx="15" ry="11" opacity="0.887" fill="#000000" stroke-width="1" stroke="#000000"  />

	<!-- Base. -->
	<ellipse cx="15" cy="15" rx="15" ry="11" fill="#d0d4d6" stroke-width="1" stroke="#8a8993" />

	<!-- Specular lighting. -->
	<path d="M 2,18 a 13.75,9.75 0,0,1 21,-11 z" fill="url(#button_matte_specular_gradient)" stroke="none"  />
</symbol>

<linearGradient id="button_inset_shadow" x1="0" y1="0" x2="1" y2="1">
	<stop offset="0" stop-color="#000000" stop-opacity="1"/>
	<stop offset="1" stop-color="#ffffff" stop-opacity="1"/>
</linearGradient>

<symbol id="button_inset" viewBox="-2 -2 34 34">
	<!-- DEBUG: rect x="-5" y="-5" width="50" height="50" fill="yellow"/ -->

	<!-- Shadow. -->
	<circle cx="15" cy="15" r="16.9" fill="url(#button_inset_shadow)" stroke="none" />

	<!-- Base. -->
	<circle cx="15" cy="15" r="15" fill="#d0d4d6" stroke-width="1" stroke="#8a8993" />

	<!-- Specular lighting. -->
	<path d="M 2,20 a 14.25,14.25 0,0,1 22,-16 z" fill="url(#button_matte_specular_gradient)" stroke="none"  />
</symbol>

<symbol id="home_outline" viewBox="0 0 16 16">
	<path fill="#34beed" d="M 8,0 l 8,8 h-2 v8 h-12 v-8 h-2 z M 6,8 v4 h4 v-4 z" />
</symbol>

<symbol id="power_outline" viewBox="0 0 16 16">
	<path fill="none" stroke="#cc3333" stroke-width="1.5" stroke-linecap="round" d="M 8,1 v7 M 5.5,3 a 5.5,5.5 0,1,0 5,0" />
</symbol>

<symbol id="button_A" viewBox="0 0 34 34">
	<use xlink:href="#button_shiny" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">A</text>
</symbol>

<symbol id="button_minus" viewBox="0 0 34 34">
	<use xlink:href="#button_matte" x="0" y="0" width="34" height="34" />
	<line x1="10" y1="17" x2="24" y2="17" stroke-width="1.5" stroke="#909090" stroke-linecap="round" />
</symbol>
<symbol id="button_plus" viewBox="0 0 34 34">
	<use xlink:href="#button_matte" x="0" y="0" width="34" height="34" />
	<line x1="10" y1="17" x2="24" y2="17" stroke-width="1.5" stroke="#909090" stroke-linecap="round" />
	<line x1="17" y1="10" x2="17" y2="24" stroke-width="1.5" stroke="#909090" stroke-linecap="round" />
</symbol>
<symbol id="button_1" viewBox="0 0 34 34">
	<use xlink:href="#button_matte" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">1</text>
</symbol>
<symbol id="button_2" viewBox="0 0 34 34">
	<use xlink:href="#button_matte" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">2</text>
</symbol>
<symbol id="button_home" viewBox="0 0 34 34">
	<use xlink:href="#button_inset" x="0" y="0" width="34" height="34" />
	<use xlink:href="#home_outline" x="8" y="8" width="18" height="18" />
</symbol>
<symbol id="button_power" viewBox="0 0 34 34">
	<use xlink:href="#button_inset" x="0" y="0" width="34" height="34" />
	<use xlink:href="#power_outline" x="8" y="8" width="18" height="18" />
</symbol>
<symbol id="button_C" viewBox="0 0 34 34">
	<use xlink:href="#button_matte_oval" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">C</text>
</symbol>

<symbol id="button_classic_a" viewBox="0 0 34 34">
	<use xlink:href="#button_shiny" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">a</text>
</symbol>
<symbol id="button_classic_b" viewBox="0 0 34 34">
	<use xlink:href="#button_shiny" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">b</text>
</symbol>
<symbol id="button_classic_x" viewBox="0 0 34 34">
	<use xlink:href="#button_matte" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">x</text>
</symbol>
<symbol id="button_classic_y" viewBox="0 0 34 34">
	<use xlink:href="#button_matte" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">y</text>
</symbol>
<symbol id="button_classic_ZL" viewBox="0 0 34 34">
	<use xlink:href="#button_matte_oval" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">ZL</text>
</symbol>
<symbol id="button_classic_ZR" viewBox="0 0 34 34">
	<use xlink:href="#button_matte_oval" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">ZR</text>
</symbol>

<!-- ** Wii Remote B button (custom shape). ** -->

<radialGradient id="button_B_gradient1" cx="0.5" cy="0.25" r="0.5" fx="0.5" fy="-0.25">
	<stop offset="0" stop-color="#000000" stop-opacity="0.5"/>
	<stop offset="1" stop-color="#000000" stop-opacity="0"/>
</radialGradient>
<radialGradient id="button_B_gradient2" cx="0.5" cy="0.5" r="0.666" fx="0.25" fy="0.25">
	<stop offset="0" stop-color="#ffffff" stop-opacity="1"/>
	<stop offset="1" stop-color="#ffffff" stop-opacity="0"/>
</radialGradient>

<symbol id="button_B" viewBox="-2 -2 34 34">
	<!-- DEBUG: rect x="-5" y="-5" width="50" height="50" fill="yellow"/ -->

	<!-- Shadow. -->
	<rect x="4.5" y="0.75" width="22" height="30" rx="2" opacity="0.887" fill="#000000" stroke-width="1" stroke="#000000" />

	<!-- Base. -->
	<rect x="4" y="0" width="22" height="30" rx="2" fill="#d0d4d6" stroke-width="1" stroke="#8a8993" />

	<!-- Specular lighting. -->
	<path d="M 3.5,0.5 a 12,18 0,0,0 23,0 z" fill="url(#button_B_gradient1)" stroke="none"  />
	<path d="M 4.5,28.5 a 12,8 0,0,1 21,0 z" fill="url(#button_B_gradient2)" stroke="none"  />

	<!-- The label is placed incorrectly here. In the actual controller, it is placed at the edge. In this graphic, it is just centered, which makes it easier to read. -->
	<text x="15" y="15" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">B</text>
</symbol>

<radialGradient id="button_Z_gradient1" cx="0.5" cy="0.25" r="1" fx="0.5" fy="-0.0625" gradientTransform="scale(0.175 1) translate(0.5 0)">
	<stop offset="0" stop-color="#ffffff" stop-opacity="1"/>
	<stop offset="1" stop-color="#ffffff" stop-opacity="0"/>
</radialGradient>

<!-- ** Wii Nunchuk Z button (custom shape). ** -->

<symbol id="button_Z" viewBox="-2 -2 34 34">
	<!-- DEBUG: rect x="-5" y="-5" width="50" height="50" fill="yellow"/ -->

	<!-- Shadow. -->
	<rect x="0.5" y="1.75" width="30" height="28" rx="2" opacity="0.887" fill="#000000" stroke-width="1" stroke="#000000" />

	<!-- Base. -->
	<rect x="0" y="1" width="30" height="28" rx="2" fill="#d0d4d6" stroke-width="1" stroke="#8a8993" />

	<!-- Specular lighting. -->
	<rect x="2" y="1.5" width="26" height="27" fill="url(#button_Z_gradient1)" stroke="none" />
	<text x="15" y="15" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">Z</text>
</symbol>

<!-- ** Wii Classic Controller L and R buttons (custom shape). ** -->

<symbol id="button_long_LR" viewBox="-2 -2 34 34">
	<!-- DEBUG: rect x="-5" y="-5" width="50" height="50" fill="yellow"/ -->

	<!-- Shadow. -->
	<rect x="0.5" y="7.5" width="30" height="16" rx="8" opacity="0.887" fill="#000000" stroke-width="1" stroke="#000000" />

	<!-- Base. -->
	<rect x="0" y="7" width="30" height="16" rx="8" fill="#d0d4d6" stroke-width="1" stroke="#8a8993" />

	<!-- Specular lighting. -->
	<rect x="1" y="8" width="28" height="14" rx="8" fill="url(#button_Z_gradient1)" stroke="none" />
</symbol>

<symbol id="button_classic_L" viewBox="0 0 34 34">
	<use xlink:href="#button_long_LR" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">L</text>
</symbol>
<symbol id="button_classic_R" viewBox="0 0 34 34">
	<use xlink:href="#button_long_LR" x="0" y="0" width="34" height="34" />
	<text x="17" y="17" font-size="15px" font-family="Arial, sans-serif" fill="#909090" text-anchor="middle" dominant-baseline="central">R</text>
</symbol>

<!-- ** Analog stick from Wii Nunchuk or Classic Controller. ** -->

<radialGradient id="analog_stick_gradient1" cx="0.5" cy="0.5" r="0.5">
	<stop offset="0" stop-color="#fff"/>
	<stop offset="1" stop-color="#eee"/>
</radialGradient>
<linearGradient id="analog_stick_gradient2" x1="0" y1="0.5" x2="0" y2="1">
	<stop offset="0" stop-color="#fff"/>
	<stop offset="1" stop-color="#ccc"/>
</linearGradient>
<linearGradient id="analog_stick_gradient3" x1="0" y1="0.5" x2="0" y2="1">
	<stop offset="0.5" stop-color="#999"/>
	<stop offset="1" stop-color="#ccc"/>
</linearGradient>
<radialGradient id="analog_stick_shadow" cx="0.5" cy="0.5" r="0.5">
	<stop offset="0.5" stop-color="#000" stop-opacity="1"/>
	<stop offset="1" stop-color="#000" stop-opacity="0"/>
</radialGradient>

<!-- Based on http://www.mariowiki.com/File:Def_Stick.svg -->
<symbol id="analog_stick" viewBox="0 0 32 32">
	<!-- DEBUG: rect x="-5" y="-5" width="50" height="50" fill="lime"/ -->

	<!-- Base. -->
	<ellipse cx="16" cy="21" rx="10" ry="9" stroke-width="0.8" stroke="#000" fill="url(#analog_stick_gradient3)"/>

	<!-- Shadow. -->
	<ellipse cx="17" cy="17" rx="15" ry="12" opacity="0.887" stroke="none" fill="url(#analog_stick_shadow)"/>

	<!-- Thumb stick. -->
	<ellipse cx="16" cy="13" rx="15" ry="12" stroke-width="0.8" stroke="#000" fill="url(#analog_stick_gradient2)"/>
	<ellipse cx="16" cy="10" rx="11" ry="8" stroke-width="0.4" stroke="#777" fill="url(#analog_stick_gradient1)"/>
</symbol>

<symbol id="twin_analog_sticks" viewBox="0 0 2 1">
	<use xlink:href="#analog_stick" x="0" y="0" width="1" height="1" />
	<use xlink:href="#analog_stick" x="1" y="0" width="1" height="1" />
</symbol>

<!-- ** A computer mouse. ** -->

<radialGradient id="mouse_gradient" cx="0.5" cy="0.5" r="0.5" fx="0.5" fy="0.75">
	<stop offset="0" stop-color="#fff"/>
	<stop offset="1" stop-color="#ccc"/>
</radialGradient>

<radialGradient id="mouse_specular_gradient" cx="0.5" cy="0.25" r="1" fx="0.5" fy="-0.0625" gradientTransform="scale(0.333 1) translate(0.5 0)">
	<stop offset="0" stop-color="#ffffff" stop-opacity="1"/>
	<stop offset="1" stop-color="#ffffff" stop-opacity="0"/>
</radialGradient>

<linearGradient id="mouse_wheel_gradient_up" x1="0" y1="0" x2="0" y2="1">
	<stop offset="0.333" stop-color="#0094ff" stop-opacity="0.75"/>
	<stop offset="0.666" stop-color="#0094ff" stop-opacity="0"/>
</linearGradient>

<linearGradient id="mouse_wheel_gradient_down" xlink:href="#mouse_wheel_gradient_up" gradientTransform="translate(0 1) scale(1 -1)" />

<path id="mouse_shape" d="M16,0 q8,0 9,4 q4,16 0,24 q-2,4 -9,4 q-7,0 -9,-4 q-4,-8 0,-24 q1,-4 9,-4 z" />
<path id="mouse_left_button" d="M16,0 v2 q-2,0 -2,6 q0,6 2,6 v2 q -9,0 -9,-4 v-12 z" clip-path="url(#mouse_clip)" />
<use id="mouse_right_button" xlink:href="#mouse_left_button" x="0" y="0" transform="translate(16 0) scale(-1 1) translate(-16 0)" />
<path id="mouse_wheel" d="M16,2 q-2,0 -2,6 q0,6 2,6 q2,0 2,-6 q0,-6 -2,-6 z" />

<clipPath id="mouse_clip" clipPathUnits="userSpaceOnUse">
	<use xlink:href="#mouse_shape" x="0" y="0" />
</clipPath>

{% assign mouse_width = 28 %}
{% assign mouse_height = 36 %}
<!-- Inspired by https://openclipart.org/detail/211818/mouse -->
<symbol id="mouse" viewBox="2 -2 {{ mouse_width }} {{ mouse_height }}">
	<!-- DEBUG: rect x="-5" y="-5" width="50" height="50" fill="lime"/ -->

	<!-- Shadow. -->
	<use xlink:href="#mouse_shape" x="1" y="0.5" opacity="0.887" stroke-width="1" stroke="#000000" fill="#000000" />

	<!-- Base. -->
	<use xlink:href="#mouse_shape" x="0" y="0" stroke="none" fill="url(#mouse_gradient)" />

	<!-- Specular lighting. -->
	<rect x="3" y="0" width="26" height="32" fill="url(#mouse_specular_gradient)" clip-path="url(#mouse_clip)" />

	<!-- Buttons. -->
	<use xlink:href="#mouse_left_button"  x="0" y="0" stroke-width="0.25" stroke="#8a8993" fill="none" />
	<use xlink:href="#mouse_right_button" x="0" y="0" stroke-width="0.25" stroke="#8a8993" fill="none" />

	<!-- The dark outline. -->
	<use xlink:href="#mouse_shape" x="0" y="0" stroke-width="0.5" stroke="#8a8993" fill="none" />
</symbol>

<symbol id="mouse_left" viewBox="0 0 {{ mouse_width }} {{ mouse_height }}">
	<use xlink:href="#mouse" x="0" y="0" width="{{ mouse_width }}" height="{{ mouse_height }}" />
	<use xlink:href="#mouse_left_button" x="-2" y="2" stroke="none" fill="url(#dpad_press_gradient)"/>
</symbol>

<symbol id="mouse_right" viewBox="0 0 {{ mouse_width }} {{ mouse_height }}">
	<use xlink:href="#mouse" x="0" y="0" width="{{ mouse_width }}" height="{{ mouse_height }}" />
	<use xlink:href="#mouse_right_button" x="-2" y="2" stroke="none" fill="url(#dpad_press_gradient)"/>
</symbol>

<symbol id="mouse_up" viewBox="0 0 {{ mouse_width }} {{ mouse_height }}">
	<use xlink:href="#mouse" x="0" y="0" width="{{ mouse_width }}" height="{{ mouse_height }}" />
	<use xlink:href="#mouse_wheel" x="-2" y="2" stroke="none" fill="url(#mouse_wheel_gradient_up)"/>
</symbol>

<symbol id="mouse_down" viewBox="0 0 {{ mouse_width }} {{ mouse_height }}">
	<use xlink:href="#mouse" x="0" y="0" width="{{ mouse_width }}" height="{{ mouse_height }}" />
	<use xlink:href="#mouse_wheel" x="-2" y="2" stroke="none" fill="url(#mouse_wheel_gradient_down)"/>
</symbol>

<!-- ** A key from a keyboard. ** -->

<linearGradient id="key_gradient1" x1="0" y1="0" x2="0" y2="1">
	<stop offset="0" stop-color="#d8d8d8" />
	<stop offset="1" stop-color="#a3a3a3" />
</linearGradient>

<linearGradient id="key_gradient2" x1="0" y1="0" x2="1" y2="0">
	<stop offset="0"     stop-color="#cccccc" />
	<stop offset="0.666" stop-color="#eeeeee" />
	<stop offset="1"     stop-color="#cccccc" />
</linearGradient>

{% assign key_width = 36 %}
{% assign key_height = 32 %}
<!-- Inspired by https://openclipart.org/detail/27549/keyboard-keys -->
<symbol id="key" viewBox="-2 -2 {{ key_width }} {{ key_height }}">
	<!-- DEBUG: rect x="-5" y="-5" width="50" height="50" fill="lime"/ -->

	<!-- Shadow. -->
	<rect x="1" y="1" width="32" height="28" rx="4" stroke-width="0.5" stroke="#000000" fill="#000000" />

	<!-- Base. -->
	<rect x="0" y="0" width="32" height="28" rx="4" stroke-width="0.5" stroke="#8a8993" fill="url(#key_gradient1)" />
	<rect x="3" y="2" width="26" height="23" rx="3" stroke-width="0.25" stroke="#8a8993" fill="url(#key_gradient2)" />

</symbol>

<!-- ** Symbols for keyboard keys. For an arbitrary reason, they are restricted to 13x13. ** -->

<path id="arrow_up" d="M 2,0 l 2,5 h-1.5 v8 h-1 v-8 h-1.5 z" />
<use id="arrow_right" xlink:href="#arrow_up" x="0" y="0" transform="translate(13 0) rotate(90)" />
<use id="arrow_down" xlink:href="#arrow_up" x="0" y="0" transform="translate(4 13) rotate(180)" />
<use id="arrow_left" xlink:href="#arrow_up" x="0" y="0" transform="translate(0 4) rotate(270)" />
<path id="arrow_enter" d="M0,10 l5,-2 v1.5 h7 v-8 h1 v9 h-8 v1.5 z" />

<!-- Based on https://commons.wikimedia.org/wiki/File:Windows_logo_-_2012.svg -->
<symbol id="win" viewBox="0 0 39 40">
	<!-- fill="#00adef" -->
	<path d="
		M 0,6  v13 h16 v-15.5 z
		M 0,34 v-13 h16 v15.5 z
		M 18,3.25 v15.75 h21 v-19 z
		M 18,36.75 v-15.75 h21 v19 z" />
</symbol>

<symbol id="volume_down" viewBox="0 0 13 13">
	<path d="M0,3 h2 l2,-2.5 q2,4 0,8 l-2,-2.5 h-2 z" />
	<path d="M7,4 q-0.5,0.5 0,1 h5 q0.5,-0.5 0,-1 z" />
</symbol>

<symbol id="volume_up" viewBox="0 0 13 13">
	<use xlink:href="#volume_down" x="0" y="0" width="13" height="13" />
	<path d="M9,2 q0.5,-0.5 1,0 v5 q-0.5,0.5 -1,0 z" />
	<!-- DEBUG: path d="
		M0,0 h0.1 v13 h-0.1 z
		M13,0 h-0.1 v13 h0.1 z
		M0,0 v0.1 h13 v-0.1 z
		M0,13 v-0.1 h13 v0.1 z
		M0,6.5 v-0.1 h13 v0.2 z
	" /-->
</symbol>

<path id="play" d="M0,0 l5.2,3 L0,6 z" />
<path id="pause" d="M0,0 h2 v6 h-2 z M4,0 h2 v6 h-2 z" />
<path id="stop" d="M0,0 h6 v6 h-6 z" />

<symbol id="play_pause" viewBox="0 0 13 13">
	<use xlink:href="#play" x="0" y="0" width="13" height="13" />
	<use xlink:href="#pause" x="7" y="0" width="13" height="13" />
</symbol>

<symbol id="forward" viewBox="0 0 13 13">
	<use xlink:href="#play" x="0" y="0" width="13" height="13" />
	<use xlink:href="#play" x="5" y="0" width="13" height="13" />
</symbol>

<symbol id="rewind" viewBox="0 0 13 13">
	<use xlink:href="#forward" x="0" y="0" width="13" height="13" transform="translate(10.2 0) scale(-1 1)" />
</symbol>

<symbol id="next" viewBox="0 0 13 13">
	<use xlink:href="#forward" x="0" y="0" width="13" height="13" />
	<path d="M10,0 h2 v6 h-2 z" />
</symbol>

<symbol id="previous" viewBox="0 0 13 13">
	<use xlink:href="#next" x="0" y="0" width="13" height="13" transform="translate(12.2 0) scale(-1 1)" />
</symbol>

{% assign names = 'up right down left enter' | split: ' ' %}
{% for name in names %}
<symbol id="key_{{ name }}" viewBox="0 0 {{ key_width }} {{ key_height }}">
	<use xlink:href="#key" x="0" y="0" width="{{ key_width }}" height="{{ key_height }}" />
	<use xlink:href="#arrow_{{ name }}" x="8" y="8" fill="#404020" />
</symbol>
{% endfor %}

{% assign names = 'win volume_up volume_down play_pause stop previous next rewind forward' | split: ' ' %}
{% for name in names %}
<symbol id="key_{{ name }}" viewBox="0 0 {{ key_width }} {{ key_height }}">
	<use xlink:href="#key" x="0" y="0" width="{{ key_width }}" height="{{ key_height }}" />
	<use xlink:href="#{{ name }}" x="8" y="8" width="13" height="13" fill="#404020" />
</symbol>
{% endfor %}

<symbol id="key_esc" viewBox="0 0 {{ key_width }} {{ key_height }}">
	<use xlink:href="#key" x="0" y="0" width="{{ key_width }}" height="{{ key_height }}" />
	<text x="8" y="8" font-size="8px" font-family="Arial, sans-serif" font-style="italic" fill="#404020" text-anchor="start" dominant-baseline="text-before-edge">Esc</text>
</symbol>

<symbol id="key_pageup" viewBox="0 0 {{ key_width }} {{ key_height }}">
	<use xlink:href="#key" x="0" y="0" width="{{ key_width }}" height="{{ key_height }}" />
	<text x="8" y="8" font-size="8px" font-family="Arial, sans-serif" font-style="italic" fill="#404020" text-anchor="start" dominant-baseline="text-before-edge">Page</text>
	<text x="8" y="17" font-size="8px" font-family="Arial, sans-serif" font-style="italic" fill="#404020" text-anchor="start" dominant-baseline="text-before-edge">Up</text>
</symbol>

<symbol id="key_pagedown" viewBox="0 0 {{ key_width }} {{ key_height }}">
	<use xlink:href="#key" x="0" y="0" width="{{ key_width }}" height="{{ key_height }}" />
	<text x="8" y="8" font-size="8px" font-family="Arial, sans-serif" font-style="italic" fill="#404020" text-anchor="start" dominant-baseline="text-before-edge">Page</text>
	<text x="8" y="17" font-size="8px" font-family="Arial, sans-serif" font-style="italic" fill="#404020" text-anchor="start" dominant-baseline="text-before-edge">Down</text>
</symbol>

<symbol id="keys_arrows" viewBox="0 0 {{ key_width | times: 3 }} {{ key_height | times: 2 }}">
	<use xlink:href="#key_up"    x="{{ key_width | times: 1 }}" y="{{ key_height | times: 0 }}" width="{{ key_width }}" height="{{ key_height }}" />
	<use xlink:href="#key_left"  x="{{ key_width | times: 0 }}" y="{{ key_height | times: 1 }}" width="{{ key_width }}" height="{{ key_height }}" />
	<use xlink:href="#key_down"  x="{{ key_width | times: 1 }}" y="{{ key_height | times: 1 }}" width="{{ key_width }}" height="{{ key_height }}" />
	<use xlink:href="#key_right" x="{{ key_width | times: 2 }}" y="{{ key_height | times: 1 }}" width="{{ key_width }}" height="{{ key_height }}" />
</symbol>

<!-- ** Wii Remote LED indicators. ** -->

<radialGradient id="wii_led_light_gradient" cx="0.5" cy="0.5" r="0.5">
	<stop offset="0" stop-color="#ffffff" stop-opacity="0.75"/>
	<stop offset="1" stop-color="#adcefb" stop-opacity="0"/>
</radialGradient>

<!-- Colors from http://ftpmerou.free.fr/ubuntu/wiimote/wiimote.svg -->
<g id="wii_led_off">
	<rect x="-6" y="-6" width="12" height="12" stroke-width="1" stroke="#979a9c" fill="#818588" />
</g>
<g id="wii_led_on">
	<rect x="-6" y="-6" width="12" height="12" stroke-width="1" stroke="#59b2e3" fill="#83cff8" />
	<circle cx="0" cy="0" r="9" fill="url(#wii_led_light_gradient)" />
</g>

<symbol id="wii_leds_12" viewBox="0 0 80 20">
	<use xlink:href="#wii_led_on"  x="10" y="10" />
	<use xlink:href="#wii_led_on"  x="30" y="10" />
	<use xlink:href="#wii_led_off" x="50" y="10" />
	<use xlink:href="#wii_led_off" x="70" y="10" />
</symbol>

<symbol id="wii_leds_13" viewBox="0 0 80 20">
	<use xlink:href="#wii_led_on"  x="10" y="10" />
	<use xlink:href="#wii_led_off" x="30" y="10" />
	<use xlink:href="#wii_led_on"  x="50" y="10" />
	<use xlink:href="#wii_led_off" x="70" y="10" />
</symbol>

<symbol id="wii_leds_14" viewBox="0 0 80 20">
	<use xlink:href="#wii_led_on"  x="10" y="10" />
	<use xlink:href="#wii_led_off" x="30" y="10" />
	<use xlink:href="#wii_led_off" x="50" y="10" />
	<use xlink:href="#wii_led_on"  x="70" y="10" />
</symbol>

<symbol id="wii_leds_any" viewBox="0 0 80 80">
	<use xlink:href="#wii_led_on"  x="10" y="10" />
	<use xlink:href="#wii_led_off" x="30" y="10" />
	<use xlink:href="#wii_led_off" x="50" y="10" />
	<use xlink:href="#wii_led_off" x="70" y="10" />

	<use xlink:href="#wii_led_off" x="10" y="30" />
	<use xlink:href="#wii_led_on"  x="30" y="30" />
	<use xlink:href="#wii_led_off" x="50" y="30" />
	<use xlink:href="#wii_led_off" x="70" y="30" />

	<use xlink:href="#wii_led_off" x="10" y="50" />
	<use xlink:href="#wii_led_off" x="30" y="50" />
	<use xlink:href="#wii_led_on"  x="50" y="50" />
	<use xlink:href="#wii_led_off" x="70" y="50" />

	<use xlink:href="#wii_led_off" x="10" y="70" />
	<use xlink:href="#wii_led_off" x="30" y="70" />
	<use xlink:href="#wii_led_off" x="50" y="70" />
	<use xlink:href="#wii_led_on"  x="70" y="70" />
</symbol>

{% assign names = 'wii_leds_12 wii_leds_13 wii_leds_14' | split: ' ' %}
{% for name in names %}
<symbol id="{{ name }}_square" viewBox="0 0 1 1">
	<use xlink:href="#{{ name }}"  x="0" y="0" width="1" height="1" />
</symbol>
{% endfor %}

{% assign names = 'down left up right' | split: ' ' %}
{% for name in names %}
<symbol id="home_and_{{ name }}" viewBox="0 0 2 1">
	<use xlink:href="#button_home"  x="0" y="0" width="1" height="1" />
	<use xlink:href="#dpad_{{ name }}"  x="1" y="0" width="1" height="1" />
</symbol>
{% endfor %}

<!-- ** End of definitions. ** -->

{% if page.mode == "cheatsheet" %}
<linearGradient id="dolphin_gradient" x1="0" y1="0" x2="0" y2="1">
	<stop offset="0" stop-color="#46D4FF" />
	<stop offset="1" stop-color="#1792FF" />
</linearGradient>

<!-- Based on https://commons.wikimedia.org/wiki/File:Dolphin-logo.svg -->
<symbol id="dolphin" viewBox="0 0 2048.0371 1128.51">
	<path fill="#0057ab" d="m 2046.8003,1078.6481 c -6.813,-22.834 -49.283,-160.53702 -120.831,-292.56702 -94.261,-173.943 -175.33,-298.279 -310.402,-424.563 -43.445,-40.618 -84.6,-76.916 -127.448,-109.498 l 0.047,0 c 0,0 -0.329,-0.232 -0.926,-0.673 -0.801,-0.607 -1.602,-1.214 -2.403,-1.818 -15.987,-12.352 -83.345,-69.109 -59.382,-131.767 8.031,-21 27.421,-38.45 50.479,-52.569 l 124.091,-1.011 0,-46 -0.03,0.001 c 10e-4,0 0.016,-0.003 0.016,-0.003 0,0 -72.661,-24.686 -199.807,-16.53 -119.328,7.655 -226.545,77.432 -246.588,87.241 -64.265,-18.396 -137.59,-34.619 -223.34403,-49.168 -296.609,-50.323 -547.639,29.896 -673.604,117.325 -165.101,114.592 -160.533,221.368 -174.144,274.776 -8.431,33.085 -83.408,94.263 -82.51,137.183 l 0,45.18 15.489,15.96 366.732,-136.734 212.575,-14.886 363.523,287.636 113.66803,16.846 0,-45.969 -0.087,-0.035 c 0.022,0 0.035,0 0.035,0 0,0 -95.43403,-39.648 -154.14603,-98.356 -39.956,-39.953 -49.518,-100.64 -51.552,-135.342 l 0.359,0.033 c 237.41163,48.3327 403.74023,95.9459 569.20303,230.408 l 108.183,89.527 0,-45.969 -0.358,-0.332 c -1.596,-1.983 -124.799,-154.603 -331.827,-256.712 -171.102,-84.392 -311.58503,-126.087 -506.22903,-135.527 -212.756,-10.319 -369.522,16.999 -369.522,16.999 0,0 4.385,-94.537 165.003,-169.88 139.666,-65.516 359.388,-76.481 611.55803,-12.15 356.261,90.886 477.766,245.646 631.012,405.573 128.3132,136.7139 206.0481,267.9525 262.651,414.13702 l 41.753,89.096 0,-46.264 -1.237,-3.603 z" />
	<path fill="url(#dolphin_gradient)" d="m 1925.9693,832.08008 c -94.261,-173.943 -175.33,-298.279 -310.402,-424.563 -43.446,-40.619 -84.601,-76.917 -127.45,-109.499 l 0.049,0.01 c 0,0 -0.34,-0.24 -0.962,-0.699 -0.773,-0.586 -1.547,-1.172 -2.321,-1.757 -15.904,-12.279 -83.413,-69.084 -59.428,-131.801 26.32,-68.822 174.556,-99.582 174.556,-99.582 0,0 -72.661,-24.686 -199.807,-16.53 -119.328,7.655 -226.545,77.432 -246.588,87.241 -64.265,-18.396 -137.59,-34.619 -223.34403,-49.168 -296.609,-50.323 -547.639,29.896 -673.604,117.325 -165.101,114.592 -160.533,221.368 -174.144,274.776 -9.794,38.432 -109.389,114.772 -75.534,156.367 21.122,25.95 91.411,-9.289 148.113,-32.611 59.615,-24.521 64.209,-37.859 227.133,-62.168 74.956,-11.184 153.843,-14.393 212.575,-14.886 22.855,48.26 79.68,147.46 178.133,195.042 132.934,64.246 299.00503,63.438 299.00503,63.438 0,0 -95.43403,-39.648 -154.14603,-98.356 -39.956,-39.953 -49.518,-100.64 -51.552,-135.342 l 0.359,0.033 c 96.193,18.278 180.21503,31.468 381.15603,108.425 175.815,67.334 295.91,165.256 295.91,165.256 0,0 -123.479,-153.98 -331.865,-256.76 -171.102,-84.391 -311.58503,-126.086 -506.22903,-135.526 -212.756,-10.319 -369.522,16.999 -369.522,16.999 0,0 4.385,-94.537 165.003,-169.88 139.666,-65.516 359.388,-76.481 611.55803,-12.15 356.261,90.886 477.766,245.646 631.012,405.573 163.107,170.22 304.146,456.68502 304.146,456.68502 0,0 -43.489,-151.35702 -121.81,-295.88702 z" />
</symbol>
{% endif %}

</defs>

{% if page.mode == "demonstration" %}

	{% for row in page.demonstration_ids %}
		{% assign y = forloop.index0 | times: 5 %}
		{% for name in row %}
			{% assign x = forloop.index0 | times: 5 %}
			{% if name %}
				<use xlink:href="#{{name}}" x="{{ x }}" y="{{ y }}" width="5" height="5" />
			{% endif %}
		{% endfor %}
	{% endfor %}

{% elsif page.mode == "cheatsheet" %}

	<g class="cheatsheet">

		<g class="sections">
		{% assign y = 0 %}
		{% for section in cheatsheet.sections %}

			{% assign section_height = 0 %}
			{% for row in section.data %}
				{% assign height = section.row_height %}
				{% if row.height %}
					{% assign height = row.height %}
				{% endif %}
				{% assign section_height = section_height | plus: height %}
			{% endfor %}

			<rect x="0" y="{{ y }}" width="{{ cheatsheet_width }}" height="{{ section_height }}" class="section" />
			{% assign y = y | plus: section_height %}
		{% endfor %}
		</g>

		<g class="section_labels">
		{% assign y = 0 %}
		{% for section in cheatsheet.sections %}

			{% assign section_height = 0 %}
			{% for row in section.data %}
				{% assign height = section.row_height %}
				{% if row.height %}
					{% assign height = row.height %}
				{% endif %}
				{% assign section_height = section_height | plus: height %}
			{% endfor %}

			{% if section.label %}
				<text x="0" y="0" transform="translate({{ cheatsheet.columns[0] | divided_by: 2.0 }} {{ section_height | divided_by: 2.0 | plus: y }}) rotate(-90)" class="section_label">{{ section.label }}</text>
			{% endif %}
			{% assign y = y | plus: section_height %}
		{% endfor %}
		</g>

		<g class="columns">
		{% assign x = 0 %}
		{% for column in cheatsheet.columns %}
			<rect x="{{ x }}" y="0" width="{{ column }}" height="{{ cheatsheet_height }}" class="column" />
			{% assign x = x | plus: column %}
		{% endfor %}
		</g>

		<g class="rows">
		{% assign y = 0 %}
		{% for section in cheatsheet.sections %}
			<g class="section_rows">
			{% for row in section.data %}
				{% assign height = section.row_height %}
				{% if row.height %}
					{% assign height = row.height %}
				{% endif %}
				<rect x="{{ 0 | plus: cheatsheet.columns[0] }}" y="{{ y }}" width="{{ cheatsheet_width | minus: cheatsheet.columns[0] }}" height="{{ height }}" class="row" />
				{% assign y = y | plus: height %}
			{% endfor %}
			</g>
		{% endfor %}
		</g>

		<g class="data">
		{% assign y = 0 %}
		{% for section in cheatsheet.sections %}
			<g class="section_data">
			{% for row in section.data %}
				<g class="section_data_row">
				{% assign height = section.row_height %}
				{% if row.height %}
					{% assign height = row.height %}
				{% endif %}
				{% assign x = 0 %}
				{% for cell in row.cells %}
					<g class="section_data_cell">
						{% assign width = cheatsheet.columns[forloop.index0] %}
						{% assign type = cell[0] %}
						{% assign value = cell[1] %}
						<!-- x={{ x }} y={{ y }} width={{ width }} height={{ height }} type={{ type }} value={{ value }} -->
						{% if type == "t" %}
							<text x="{{ width | divided_by: 2.0 | plus: x }}" y="{{ height | divided_by: 2.0 | plus: y }}">{{ value }}</text>
						{% elsif type == "T" %}
							{% comment %} https://stackoverflow.com/questions/27694610/how-can-i-split-a-string-by-newline-in-shopify {% endcomment %}
							{% assign textlines = value | newline_to_br | strip_newlines | split: "<br />" %}
							{% assign divisions = textlines.size | plus: 1.0 %}
							{% for textline in textlines %}
								<text x="{{ width | divided_by: 2.0 | plus: x }}" y="{{ height | divided_by: divisions | times: forloop.index | plus: y }}">{{ textline }}</text>
							{% endfor %}
						{% elsif type == "#" %}
							<use xlink:href="#{{ value }}" x="{{ x | plus: cheatsheet.row_padding }}" y="{{ y | plus: cheatsheet.row_padding }}" width="{{ cheatsheet.row_padding | times: -2 | plus: width }}" height="{{ cheatsheet.row_padding | times: -2 | plus: height }}" />
						{% endif %}
					</g>
					{% assign x = x | plus: width %}
				{% endfor %}
				</g>
				{% assign y = y | plus: height %}
			{% endfor %}
			</g>
		{% endfor %}
		</g>

		<text x="0" y="0" class="title" transform="translate({{ cheatsheet.columns[0] | plus: cheatsheet.columns[1] | divided_by: 2.0 }} {{ 68 | divided_by: 2.0 }}) rotate(-45)">
			<tspan x="0" y="-8">MAYFLASH</tspan>
			<tspan x="0" y="0">Wireless Sensor</tspan>
			<tspan x="0" y="8">DolphinBar</tspan>
		</text>

		<text x="0" y="0" class="aside" transform="translate({{ extra_at_right | divided_by: 2.0 | plus: cheatsheet_width  }} {{ cheatsheet.row_padding }}) rotate(90)">
			<tspan>Product page: </tspan>
			<a xlink:href="{{ page.dolphinbar_url }}"><tspan>{{ page.dolphinbar_url }}</tspan></a>
			<tspan dx="8">Manual: </tspan>
			<a xlink:href="{{ page.manual_url }}"><tspan>{{ page.manual_url }}</tspan></a>
			<tspan dx="8">Firmware update: </tspan>
			<a xlink:href="{{ page.firmware_url }}"><tspan>{{ page.firmware_url }}</tspan></a>
			<tspan dx="8">Dolphin emulator: </tspan>
			<a xlink:href="{{ page.dolphinemu_url }}"><tspan>{{ page.dolphinemu_url }}</tspan></a>
		</text>
	</g>

{% endif %}

</svg>
